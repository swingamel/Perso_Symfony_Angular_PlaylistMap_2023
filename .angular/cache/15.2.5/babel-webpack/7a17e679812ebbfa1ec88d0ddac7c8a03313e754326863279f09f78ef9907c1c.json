{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/spotify.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = function (a1) {\n  return [\"/playlist\", a1];\n};\nfunction ListPlaylistComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 7)(2, \"a\", 8)(3, \"h5\", 9);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const playlist_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(2, _c0, playlist_r2.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(playlist_r2.name);\n  }\n}\nfunction ListPlaylistComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"div\", 12)(3, \"h2\", 13);\n    i0.ɵɵtext(4, \"Cr\\u00E9er une playlist\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"form\", 14);\n    i0.ɵɵlistener(\"ngSubmit\", function ListPlaylistComponent_div_8_Template_form_ngSubmit_5_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const _r3 = i0.ɵɵreference(10);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.createPlaylist(_r3.value));\n    });\n    i0.ɵɵelementStart(6, \"div\", 15)(7, \"label\", 16);\n    i0.ɵɵtext(8, \"Nom de la playlist\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 17, 18);\n    i0.ɵɵlistener(\"ngModelChange\", function ListPlaylistComponent_div_8_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.newPlaylistName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 19)(12, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function ListPlaylistComponent_div_8_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.closeModal());\n    });\n    i0.ɵɵtext(13, \"Annuler\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 21);\n    i0.ɵɵtext(15, \"Ajouter\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newPlaylistName);\n  }\n}\nexport class ListPlaylistComponent {\n  constructor(spotifyService) {\n    this.spotifyService = spotifyService;\n    this.showModal = false;\n    this.playlists = [];\n  }\n  ngOnInit() {\n    const storedPlaylists = localStorage.getItem('playlists');\n    if (storedPlaylists) {\n      this.playlists = JSON.parse(storedPlaylists);\n    } else {\n      this.spotifyService.getPlaylists().subscribe(playlists => {\n        this.playlists = playlists;\n      });\n    }\n  }\n  openModal() {\n    this.showModal = true;\n  }\n  closeModal() {\n    this.showModal = false;\n  }\n  createPlaylist(name) {\n    this.spotifyService.createPlaylist(name).subscribe(playlist => {\n      this.playlists = [...this.playlists, playlist];\n      localStorage.setItem('playlists', JSON.stringify(this.playlists));\n      this.closeModal();\n    });\n  }\n}\nListPlaylistComponent.ɵfac = function ListPlaylistComponent_Factory(t) {\n  return new (t || ListPlaylistComponent)(i0.ɵɵdirectiveInject(i1.SpotifyService));\n};\nListPlaylistComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListPlaylistComponent,\n  selectors: [[\"app-list-playlist\"]],\n  decls: 9,\n  vars: 2,\n  consts: [[1, \"min-h-screen\", \"bg-gradient-to-br\", \"from-gray-900\", \"to-gray-800\"], [1, \"container\", \"mx-auto\", \"p-4\"], [1, \"text-3xl\", \"font-semibold\", \"text-green-500\", \"mb-4\"], [1, \"grid\", \"grid-cols-2\", \"gap-4\"], [4, \"ngFor\", \"ngForOf\"], [1, \"bg-blue-600\", \"text-white\", \"py-2\", \"px-4\", \"rounded\", \"mt-4\", 3, \"click\"], [\"class\", \"fixed z-10 inset-0 overflow-y-auto\", 4, \"ngIf\"], [1, \"bg-gray-800\", \"p-4\", \"rounded\"], [3, \"routerLink\"], [1, \"text-lg\", \"font-semibold\", \"text-green-500\"], [1, \"fixed\", \"z-10\", \"inset-0\", \"overflow-y-auto\"], [1, \"flex\", \"items-center\", \"justify-center\", \"min-h-screen\"], [1, \"bg-white\", \"rounded\", \"p-8\", \"m-4\", \"max-w-xl\", \"mx-auto\"], [1, \"text-2xl\", \"font-semibold\", \"mb-4\"], [3, \"ngSubmit\"], [1, \"mb-4\"], [\"for\", \"playlistName\", 1, \"block\", \"text-sm\", \"font-medium\", \"mb-2\"], [\"type\", \"text\", \"id\", \"playlistName\", \"name\", \"playlistName\", \"placeholder\", \"Nom de la playlist\", 1, \"border\", \"border-gray-300\", \"p-2\", \"rounded\", \"w-full\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-blue-600\", \"transition\", \"duration-300\", 3, \"ngModel\", \"ngModelChange\"], [\"playlistName\", \"ngModel\"], [1, \"flex\", \"justify-end\"], [\"type\", \"button\", 1, \"bg-gray-300\", \"text-gray-700\", \"py-2\", \"px-4\", \"rounded\", \"mr-2\", 3, \"click\"], [\"type\", \"submit\", 1, \"bg-blue-600\", \"text-white\", \"py-2\", \"px-4\", \"rounded\"]],\n  template: function ListPlaylistComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n      i0.ɵɵtext(3, \"Playlists\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵtemplate(5, ListPlaylistComponent_div_5_Template, 5, 4, \"div\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function ListPlaylistComponent_Template_button_click_6_listener() {\n        return ctx.openModal();\n      });\n      i0.ɵɵtext(7, \"Cr\\u00E9er une playlist\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(8, ListPlaylistComponent_div_8_Template, 16, 1, \"div\", 6);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.playlists);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.showModal);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;IAKMA,2BAAwC;IAGeA,YAAmB;IAAAA,iBAAK;;;;IADxEA,eAAyC;IAAzCA,uEAAyC;IACOA,eAAmB;IAAnBA,sCAAmB;;;;;;IAS9EA,+BAAkE;IAGpBA,uCAAkB;IAAAA,iBAAK;IAC/DA,gCAAsD;IAAhDA;MAAAA;MAAA;MAAA;MAAA,OAAYA,+CAAkC;IAAA,EAAC;IACnDA,+BAAkB;IACiDA,kCAAkB;IAAAA,iBAAQ;IAC3FA,qCAAgR;IAA/LA;MAAAA;MAAA;MAAA;IAAA,EAA6B;IAA9GA,iBAAgR;IAElRA,gCAA8B;IACmDA;MAAAA;MAAA;MAAA,OAASA,kCAAY;IAAA,EAAC;IAACA,wBAAO;IAAAA,iBAAS;IACtHA,mCAAuE;IAAAA,wBAAO;IAAAA,iBAAS;;;;IAJNA,eAA6B;IAA7BA,gDAA6B;;;AChB1H,OAAM,MAAOC,qBAAqB;EAOhCC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IALlC,cAAS,GAAY,KAAK;IAC1B,cAAS,GAAU,EAAE;EAIiC;EAEtDC,QAAQ;IACN,MAAMC,eAAe,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IACzD,IAAIF,eAAe,EAAE;MACnB,IAAI,CAACG,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACL,eAAe,CAAC;KAC7C,MAAM;MACL,IAAI,CAACF,cAAc,CAACQ,YAAY,EAAE,CAACC,SAAS,CAACJ,SAAS,IAAG;QACvD,IAAI,CAACA,SAAS,GAAGA,SAAS;MAC5B,CAAC,CAAC;;EAEN;EAEAK,SAAS;IACP,IAAI,CAACC,SAAS,GAAG,IAAI;EACvB;EAEAC,UAAU;IACR,IAAI,CAACD,SAAS,GAAG,KAAK;EACxB;EAEAE,cAAc,CAACC,IAAY;IACzB,IAAI,CAACd,cAAc,CAACa,cAAc,CAACC,IAAI,CAAC,CAACL,SAAS,CAACM,QAAQ,IAAG;MAC5D,IAAI,CAACV,SAAS,GAAG,CAAC,GAAG,IAAI,CAACA,SAAS,EAAEU,QAAQ,CAAC;MAC9CZ,YAAY,CAACa,OAAO,CAAC,WAAW,EAAEV,IAAI,CAACW,SAAS,CAAC,IAAI,CAACZ,SAAS,CAAC,CAAC;MACjE,IAAI,CAACO,UAAU,EAAE;IACnB,CAAC,CAAC;EACJ;;AAlCWd,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;QAArBA,qBAAqB;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDRlCzB,8BAAsE;MAEXA,yBAAS;MAAAA,iBAAK;MACrEA,8BAAoC;MAElCA,sEAMM;MACRA,iBAAM;MACNA,iCAAoF;MAAtBA;QAAA,OAAS0B,eAAW;MAAA,EAAC;MAAC1B,uCAAkB;MAAAA,iBAAS;MAIjHA,uEAgBM;MAERA,iBAAM;;;MA9B0BA,eAAY;MAAZA,uCAAY;MAYOA,eAAe;MAAfA,oCAAe","names":["i0","ListPlaylistComponent","constructor","spotifyService","ngOnInit","storedPlaylists","localStorage","getItem","playlists","JSON","parse","getPlaylists","subscribe","openModal","showModal","closeModal","createPlaylist","name","playlist","setItem","stringify","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\IUT\\spotizer\\src\\app\\list-playlist\\list-playlist.component.html","C:\\IUT\\spotizer\\src\\app\\list-playlist\\list-playlist.component.ts"],"sourcesContent":["<div class=\"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800\">\r\n  <div class=\"container mx-auto p-4\">\r\n    <h2 class=\"text-3xl font-semibold text-green-500 mb-4\">Playlists</h2>\r\n    <div class=\"grid grid-cols-2 gap-4\">\r\n      <!-- Remplacer les valeurs d'exemple par les données réelles des playlists -->\r\n      <div *ngFor=\"let playlist of playlists\">\r\n        <div class=\"bg-gray-800 p-4 rounded\">\r\n          <a [routerLink]=\"['/playlist', playlist.id]\">\r\n            <h5 class=\"text-lg font-semibold text-green-500\">{{ playlist.name }}</h5>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <button class=\"bg-blue-600 text-white py-2 px-4 rounded mt-4\" (click)=\"openModal()\">Créer une playlist</button>\r\n  </div>\r\n\r\n  <!-- Modal -->\r\n  <div class=\"fixed z-10 inset-0 overflow-y-auto\" *ngIf=\"showModal\">\r\n    <div class=\"flex items-center justify-center min-h-screen\">\r\n      <div class=\"bg-white rounded p-8 m-4 max-w-xl mx-auto\">\r\n        <h2 class=\"text-2xl font-semibold mb-4\">Créer une playlist</h2>\r\n        <form (ngSubmit)=\"createPlaylist(playlistName.value)\">\r\n          <div class=\"mb-4\">\r\n            <label for=\"playlistName\" class=\"block text-sm font-medium mb-2\">Nom de la playlist</label>\r\n            <input type=\"text\" id=\"playlistName\" name=\"playlistName\" #playlistName=\"ngModel\" [(ngModel)]=\"newPlaylistName\" class=\"border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-600 transition duration-300\" placeholder=\"Nom de la playlist\" />\r\n          </div>\r\n          <div class=\"flex justify-end\">\r\n            <button type=\"button\" class=\"bg-gray-300 text-gray-700 py-2 px-4 rounded mr-2\" (click)=\"closeModal()\">Annuler</button>\r\n            <button type=\"submit\" class=\"bg-blue-600 text-white py-2 px-4 rounded\">Ajouter</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- Fin Modal -->\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { SpotifyService } from '../services/spotify.service';\r\n\r\n@Component({\r\n  selector: 'app-list-playlist',\r\n  templateUrl: './list-playlist.component.html',\r\n  styleUrls: ['./list-playlist.component.css']\r\n})\r\nexport class ListPlaylistComponent implements OnInit {\r\n\r\n  showModal: boolean = false;\r\n  playlists: any[] = [];\r\n\r\n  newPlaylistName: string | undefined;\r\n\r\n  constructor(private spotifyService: SpotifyService) { }\r\n\r\n  ngOnInit(): void {\r\n    const storedPlaylists = localStorage.getItem('playlists');\r\n    if (storedPlaylists) {\r\n      this.playlists = JSON.parse(storedPlaylists);\r\n    } else {\r\n      this.spotifyService.getPlaylists().subscribe(playlists => {\r\n        this.playlists = playlists;\r\n      });\r\n    }\r\n  }\r\n\r\n  openModal() {\r\n    this.showModal = true;\r\n  }\r\n\r\n  closeModal() {\r\n    this.showModal = false;\r\n  }\r\n\r\n  createPlaylist(name: string) {\r\n    this.spotifyService.createPlaylist(name).subscribe(playlist => {\r\n      this.playlists = [...this.playlists, playlist];\r\n      localStorage.setItem('playlists', JSON.stringify(this.playlists));\r\n      this.closeModal();\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}