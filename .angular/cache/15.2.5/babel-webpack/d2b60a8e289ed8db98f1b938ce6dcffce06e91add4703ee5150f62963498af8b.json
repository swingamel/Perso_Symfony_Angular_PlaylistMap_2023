{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/spotify.service\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nconst _c0 = function (a1) {\n  return [\"/album\", a1];\n};\nfunction SearchComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 8)(2, \"p\", 9);\n    i0.ɵɵtext(3, \"Album\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"a\", 10);\n    i0.ɵɵelement(5, \"img\", 11);\n    i0.ɵɵelementStart(6, \"h5\", 12);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const album_r4 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c0, album_r4.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"alt\", album_r4.title);\n    i0.ɵɵproperty(\"src\", album_r4.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(album_r4.title);\n  }\n}\nfunction SearchComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 8)(2, \"h5\", 12)(3, \"p\", 9);\n    i0.ɵɵtext(4, \"Artiste\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 10);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const artist_r5 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/artist-details/\", artist_r5.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(artist_r5.name);\n  }\n}\nfunction SearchComponent_div_11_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\", 9);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const artist_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(artist_r8.name);\n  }\n}\nfunction SearchComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 8)(2, \"p\", 9);\n    i0.ɵɵtext(3, \"Chanson\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h5\", 12);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, SearchComponent_div_11_div_6_Template, 3, 1, \"div\", 7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const song_r6 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(song_r6.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", song_r6.artists);\n  }\n}\nfunction SearchComponent_div_12_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\", 9);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const song_r11 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(song_r11.title);\n  }\n}\nfunction SearchComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 8)(2, \"p\", 9);\n    i0.ɵɵtext(3, \"Playlist\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h5\", 12);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, SearchComponent_div_12_div_6_Template, 3, 1, \"div\", 7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const playlist_r9 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(playlist_r9.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", playlist_r9.songs);\n  }\n}\nexport class SearchComponent {\n  constructor(spotifyService, http, router) {\n    this.spotifyService = spotifyService;\n    this.http = http;\n    this.router = router;\n    this.searchText = '';\n    this.songs = [];\n    this.artists = [];\n    this.albums = [];\n    this.playlists = [];\n  }\n  ngOnInit() {\n    this.spotifyService.getAlbums().subscribe(data => {\n      this.albums = Object.values(data);\n    });\n  }\n  search() {\n    // Appel à la méthode de recherche de chansons\n    this.spotifyService.searchSongs(this.searchText).subscribe(response => {\n      this.songs = response;\n    });\n    // Appel à la méthode de recherche d'artistes\n    this.spotifyService.searchArtists(this.searchText).subscribe(response => {\n      this.artists = response;\n    });\n    // Appel à la méthode de recherche d'albums\n    this.spotifyService.searchAlbums(this.searchText).subscribe(response => {\n      this.albums = response;\n    });\n    // Appel à la méthode de recherche de playlists\n    this.spotifyService.getAllPlaylists(this.searchText).subscribe(playlists => {\n      this.playlists = playlists;\n    }, error => {\n      console.log('Error searching playlists');\n    });\n  }\n}\nSearchComponent.ɵfac = function SearchComponent_Factory(t) {\n  return new (t || SearchComponent)(i0.ɵɵdirectiveInject(i1.SpotifyService), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.Router));\n};\nSearchComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SearchComponent,\n  selectors: [[\"app-search\"]],\n  decls: 13,\n  vars: 5,\n  consts: [[1, \"min-h-screen\", \"bg-gradient-to-br\", \"from-gray-900\", \"to-gray-800\"], [1, \"container\", \"mx-auto\", \"p-4\"], [1, \"text-3xl\", \"font-semibold\", \"text-green-500\", \"mb-4\"], [1, \"flex\", \"items-center\", \"mb-5\"], [\"type\", \"text\", \"placeholder\", \"Recherchez des chansons, artistes, albums ou playlists\", 1, \"bg-gray-200\", \"text-gray-800\", \"p-2\", \"rounded\", \"w-full\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-green-500\", \"transition\", \"duration-300\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [1, \"bg-green-500\", \"hover:bg-green-600\", \"text-white\", \"py-2\", \"px-4\", \"ml-2\", \"rounded\", \"transition\", \"duration-300\", 3, \"click\"], [1, \"grid\", \"grid-cols-3\", \"gap-4\"], [4, \"ngFor\", \"ngForOf\"], [1, \"bg-gray-800\", \"p-4\", \"rounded\"], [1, \"text-gray-400\"], [3, \"routerLink\"], [1, \"w-full\", \"h-auto\", \"mb-4\", 3, \"src\", \"alt\"], [1, \"text-lg\", \"font-semibold\", \"text-green-500\"]],\n  template: function SearchComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n      i0.ɵɵtext(3, \"Spotify Clone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function SearchComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.searchText = $event;\n      })(\"input\", function SearchComponent_Template_input_input_5_listener() {\n        return ctx.search();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function SearchComponent_Template_button_click_6_listener() {\n        return ctx.search();\n      });\n      i0.ɵɵtext(7, \"Rechercher \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 6);\n      i0.ɵɵtemplate(9, SearchComponent_div_9_Template, 8, 6, \"div\", 7);\n      i0.ɵɵtemplate(10, SearchComponent_div_10_Template, 7, 2, \"div\", 7);\n      i0.ɵɵtemplate(11, SearchComponent_div_11_Template, 7, 2, \"div\", 7);\n      i0.ɵɵtemplate(12, SearchComponent_div_12_Template, 7, 2, \"div\", 7);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchText);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.albums);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.artists);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.songs);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.playlists);\n    }\n  },\n  dependencies: [i4.NgForOf, i3.RouterLink, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","SearchComponent","constructor","spotifyService","http","router","ngOnInit","getAlbums","subscribe","data","albums","Object","values","search","searchSongs","searchText","response","songs","searchArtists","artists","searchAlbums","getAllPlaylists","playlists","error","console","log","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\IUT\\spotizer\\src\\app\\search\\search.component.html","C:\\IUT\\spotizer\\src\\app\\search\\search.component.ts"],"sourcesContent":["<div class=\"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800\">\r\n  <div class=\"container mx-auto p-4\">\r\n    <h1 class=\"text-3xl font-semibold text-green-500 mb-4\">Spotify Clone</h1>\r\n    <div class=\"flex items-center mb-5\">\r\n      <input\r\n        class=\"bg-gray-200 text-gray-800 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-green-500 transition duration-300\"\r\n        type=\"text\" [(ngModel)]=\"searchText\" (input)=\"search()\"\r\n        placeholder=\"Recherchez des chansons, artistes, albums ou playlists\"/>\r\n      <button class=\"bg-green-500 hover:bg-green-600 text-white py-2 px-4 ml-2 rounded transition duration-300\"\r\n              (click)=\"search()\">Rechercher\r\n      </button>\r\n    </div>\r\n    <div class=\"grid grid-cols-3 gap-4\">\r\n      <div *ngFor=\"let album of albums\">\r\n        <div class=\"bg-gray-800 p-4 rounded\">\r\n          <p class=\"text-gray-400\">Album</p>\r\n          <a [routerLink]=\"['/album', album.id]\">\r\n            <img [src]=\"album.image\" class=\"w-full h-auto mb-4\" alt=\"{{ album.title }}\">\r\n            <h5 class=\"text-lg font-semibold text-green-500\">{{ album.title }}</h5>\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <div *ngFor=\"let artist of artists\">\r\n        <div class=\"bg-gray-800 p-4 rounded\">\r\n          <h5 class=\"text-lg font-semibold text-green-500\">\r\n            <p class=\"text-gray-400\">Artiste</p>\r\n            <a routerLink=\"/artist-details/{{ artist.id }}\">{{ artist.name }}</a>\r\n          </h5>\r\n        </div>\r\n      </div>\r\n\r\n      <div *ngFor=\"let song of songs\">\r\n        <div class=\"bg-gray-800 p-4 rounded\">\r\n          <p class=\"text-gray-400\">Chanson</p>\r\n          <h5 class=\"text-lg font-semibold text-green-500\">{{ song.title }}</h5>\r\n          <div *ngFor=\"let artist of song.artists\">\r\n            <p class=\"text-gray-400\">{{ artist.name }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div *ngFor=\"let playlist of playlists\">\r\n        <div class=\"bg-gray-800 p-4 rounded\">\r\n          <p class=\"text-gray-400\">Playlist</p>\r\n          <h5 class=\"text-lg font-semibold text-green-500\">{{ playlist.name }}</h5>\r\n          <div *ngFor=\"let song of playlist.songs\">\r\n            <p class=\"text-gray-400\">{{ song.title }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {HttpClient} from '@angular/common/http';\r\nimport {Component} from '@angular/core';\r\nimport {Playlist, SpotifyService} from \"../services/spotify.service\";\r\nimport {Router} from '@angular/router';\r\n\r\n\r\n@Component({\r\n  selector: 'app-search',\r\n  templateUrl: './search.component.html',\r\n  styleUrls: ['./search.component.css']\r\n})\r\nexport class SearchComponent {\r\n  searchText: string = '';\r\n  songs: any[] = [];\r\n  artists: any[] = [];\r\n  albums: any[] = [];\r\n  playlists: Playlist[] = [];\r\n  constructor(private spotifyService: SpotifyService, private http: HttpClient, private router: Router) {\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.spotifyService.getAlbums().subscribe((data: any) => {\r\n      this.albums = Object.values(data);\r\n    });\r\n  }\r\n\r\n  search() {\r\n    // Appel à la méthode de recherche de chansons\r\n    this.spotifyService.searchSongs(this.searchText).subscribe((response: any) => {\r\n      this.songs = response;\r\n    });\r\n\r\n    // Appel à la méthode de recherche d'artistes\r\n    this.spotifyService.searchArtists(this.searchText).subscribe((response: any) => {\r\n      this.artists = response;\r\n    });\r\n\r\n    // Appel à la méthode de recherche d'albums\r\n    this.spotifyService.searchAlbums(this.searchText).subscribe((response: any) => {\r\n      this.albums = response;\r\n    });\r\n\r\n    // Appel à la méthode de recherche de playlists\r\n    this.spotifyService.getAllPlaylists(this.searchText).subscribe((playlists: any[]) => {\r\n        this.playlists = playlists;\r\n      },\r\n      (error) => {\r\n        console.log('Error searching playlists');\r\n      }\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}